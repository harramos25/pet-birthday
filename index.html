<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Happy Birthday Pet üéâ</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    html, body {
      margin: 0;
      padding: 0;
      min-height: 100vh;
      background: linear-gradient(to bottom right, #ffe0f7, #ffd6fc);
      font-family: 'Comic Sans MS', cursive;
      overflow-x: hidden;
    }

    canvas {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      z-index: 0;
    }

    .greeting {
      text-align: center;
      color: white;
      font-size: 6vw;
      font-weight: bold;
      margin-top: 5vh;
      z-index: 3;
      position: relative;
      text-shadow: 2px 2px 10px #ff40d4;
      animation: popIn 2s ease-in-out;
    }

    @keyframes popIn {
      from { transform: scale(0); opacity: 0; }
      to { transform: scale(1); opacity: 1; }
    }

    .cake {
      margin: 0 auto;
      margin-top: 5vh;
      width: 25vw;
      max-width: 150px;
      z-index: 2;
      display: flex;
      flex-direction: column;
      align-items: center;
      position: relative;
    }

    .layer {
      width: 100%;
      height: 30px;
      border-radius: 10px;
      animation: drop 1s ease forwards;
      opacity: 0;
    }

    .layer1 {
      background: #fff0f5;
      animation-delay: 0.3s;
    }

    .layer2 {
      background: #ffc0cb;
      animation-delay: 0.6s;
    }

    .layer3 {
      background: #ffaad4;
      animation-delay: 0.9s;
    }

    .layer4 {
      background: #ff7eb9;
      animation-delay: 1.2s;
    }

    .layer5 {
      background: #ff4d94;
      animation-delay: 1.5s;
    }

    @keyframes drop {
      to { transform: translateY(0); opacity: 1; }
    }

    .candle {
      width: 5px;
      height: 15px;
      background: #ffd700;
      margin-bottom: 5px;
      border-radius: 3px;
      animation: flicker 1s infinite, candleDrop 1s ease forwards;
      animation-delay: 1.8s;
      opacity: 0;
    }

    .flame {
      width: 10px;
      height: 10px;
      background: radial-gradient(circle, orange 40%, yellow 60%);
      border-radius: 50%;
      position: relative;
      top: -8px;
      left: -3px;
      animation: flicker 0.4s infinite;
    }

    @keyframes candleDrop {
      to { opacity: 1; }
    }

    @keyframes flicker {
      0%, 100% { transform: scale(1); opacity: 1; }
      50% { transform: scale(1.2); opacity: 0.8; }
    }

    .unicorn {
      position: absolute;
      width: 15vw;
      max-width: 60px;
      height: auto;
      animation: moveAround 10s linear infinite;
      z-index: 2;
    }

    @keyframes moveAround {
      0% { transform: translate(0, 0); }
      25% { transform: translate(100vw, 10vh); }
      50% { transform: translate(80vw, 60vh); }
      75% { transform: translate(10vw, 80vh); }
      100% { transform: translate(0, 0); }
    }

    .popup {
      position: absolute;
      bottom: 110px;
      right: 10%;
      background: #fff;
      padding: 15px;
      border-radius: 15px;
      box-shadow: 0 0 10px pink;
      z-index: 10;
      display: none;
      max-width: 90vw;
      animation: fadeIn 1s ease;
      text-align: center;
    }

    .popup.show {
      display: block;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .gift-box {
      position: absolute;
      bottom: 10%;
      right: 10%;
      width: 15vw;
      max-width: 80px;
      height: 15vw;
      max-height: 80px;
      background: #ff69b4;
      border-radius: 10px;
      cursor: pointer;
      z-index: 5;
      box-shadow: 0 0 10px #ff99cc;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .gift-box::before {
      content: "üéÅ";
      font-size: 1.5rem;
    }

    .gift-popup {
      display: none;
      position: absolute;
      bottom: 200px;
      right: 10%;
      width: 90vw;
      max-width: 250px;
      background: white;
      border-radius: 15px;
      padding: 15px;
      box-shadow: 0 0 15px #ffcce5;
      text-align: center;
      z-index: 6;
      animation: fadeIn 0.5s ease;
    }

    @media (max-width: 768px) {
      .popup {
        right: 5%;
        left: 5%;
        width: 90%;
        bottom: 110px;
      }

      .gift-box {
        right: 5%;
      }

      .gift-popup {
        right: 5%;
        left: 5%;
        width: 90%;
      }
    }
  </style>
</head>
<body class="text-center">
  <div class="greeting">Happy 17th Birthday, Jamiria! üéÇü¶Ñ</div>

  <div class="cake">
    <div class="candle">
      <div class="flame"></div>
    </div>
    <div class="layer layer1"></div>
    <div class="layer layer2"></div>
    <div class="layer layer3"></div>
    <div class="layer layer4"></div>
    <div class="layer layer5"></div>
  </div>

  <img src="uc.png" class="unicorn" style="top: 5%; left: 10%; animation-delay: 0s;">
  <img src="uc.png" class="unicorn" style="top: 15%; left: 70%; animation-delay: 2s;">
  <img src="uc.png" class="unicorn" style="top: 50%; left: 20%; animation-delay: 4s;">
  <img src="uc.png" class="unicorn" style="top: 70%; left: 80%; animation-delay: 6s;">
  <img src="uc.png" class="unicorn" style="top: 80%; left: 40%; animation-delay: 8s;">

  <canvas id="fireworks"></canvas>

  <div class="gift-box" onclick="togglePopup()"></div>

  <div class="popup" id="popup">
    <strong>Dear Jammy,</strong><br>
    I may not be there to give you a gift, but I made this just for you with all my heart. üíï<br>
    Wishing you sparkles, cake, and a magical 17th birthday! ü¶Ñ‚ú®
  </div>

  <div id="giftMessage" class="gift-popup">
    üéâ Hoy Pet! üéâ<br>
    Wala ko'y intro, kay you already know unsa ni, It's us‚Äîstill stupid, still loud, still tabian, still laughing at things we shouldn't be. Pero always ra gyud ko thankful nga nag-ila ta, from demure to the unhinged. You make life less heavy. That's it. Walay pa-drama. Just ka OA-yan üíù
  </div>

  <audio autoplay loop>
    <source src="HBD song.mp3" type="audio/mpeg">
  </audio>

  <script>
    const canvas = document.getElementById('fireworks');
    const ctx = canvas.getContext('2d');
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;

    window.addEventListener('resize', () => {
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
    });

    class Firework {
      constructor(x, y, color) {
        this.x = x;
        this.y = y;
        this.particles = [];
        this.color = color;

        for (let i = 0; i < 50; i++) {
          const angle = Math.random() * 2 * Math.PI;
          const speed = Math.random() * 4 + 1;
          this.particles.push({
            x: this.x,
            y: this.y,
            dx: Math.cos(angle) * speed,
            dy: Math.sin(angle) * speed,
            alpha: 1
          });
        }
      }

      update() {
        this.particles.forEach(p => {
          p.x += p.dx;
          p.y += p.dy;
          p.alpha -= 0.015;
        });
        this.particles = this.particles.filter(p => p.alpha > 0);
      }

      draw(ctx) {
        this.particles.forEach(p => {
          ctx.globalAlpha = p.alpha;
          ctx.beginPath();
          ctx.arc(p.x, p.y, 2, 0, Math.PI * 2);
          ctx.fillStyle = this.color;
          ctx.fill();
        });
        ctx.globalAlpha = 1;
      }
    }

    const fireworks = [];

    function animate() {
      ctx.fillStyle = "rgba(0,0,0,0.2)";
      ctx.fillRect(0, 0, canvas.width, canvas.height);

      fireworks.forEach((fw, i) => {
        fw.update();
        fw.draw(ctx);
        if (fw.particles.length === 0) fireworks.splice(i, 1);
      });

      requestAnimationFrame(animate);
    }

    animate();

    function launchFirework() {
      const x = Math.random() * canvas.width;
      const y = Math.random() * canvas.height / 2;
      const color = `hsl(${Math.random() * 360}, 100%, 60%)`;
      fireworks.push(new Firework(x, y, color));
    }

    setInterval(() => {
      launchFirework();
    }, 500);

    function togglePopup() {
      const popup = document.getElementById('popup');
      popup.classList.toggle('show');
    }
  </script>
</body>
</html>
